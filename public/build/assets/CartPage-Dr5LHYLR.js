import{u as D,r as i,O as K,j as s,d as u,T as l,Q as P,U as E,L as g,z as c}from"./vendor-react-CbqZeeub.js";import{u as d}from"./app-jj7dnp1k.js";import"./vendor-pUXXxmew.js";import"./vendor-swiper-Ny51Tdo0.js";/* empty css            */const J=()=>{const{cart_items:m,total:j,settings:n,promotions:I=[],shipping_methods:L=[],pickup_methods:A=[],countries:O=[],customer_addresses:a=[]}=D().props,r=d(e=>e.cartItems),x=d(e=>e.total),{setCart:y,increment:f,decrement:b,remove:_,clearCart:N}=d();i.useEffect(()=>{y(m??[])},[m]);const{data:R,setData:v,post:M,processing:Y,errors:$,transform:w}=K({first_name:"",last_name:"",email:"",phone:"",street_address:"",city:"",zip_code:"",country:"Denmark",shipping_method_id:"",payment_method:"paypal",shipping_method_obj:null}),[C,B]=i.useState(0);i.useEffect(()=>{if(a&&a.length>0){const e=a.find(t=>t.is_default)||a[0];v(t=>({...t,first_name:e.first_name||"",last_name:e.last_name||"",email:e.email||"",phone:e.phone||"",street_address:e.address||"",city:e.city||"",zip_code:e.zip_code||"",country:e.country||"Denmark"}))}},[a]),w(e=>({payment_method:e.payment_method,shipping_method:e.shipping_method_obj,shipping_address:{address:e.street_address,city:e.city,zip_code:e.zip_code,country:e.country},personal_info:{first_name:e.first_name,last_name:e.last_name,email:e.email,phone:e.phone}}));const z=(e,t,o)=>{if(t>=o){c.warn(`Only ${o} item(s) available`);return}f(e,o)},k=(e,t)=>{t<=1||b(e)},p=e=>{_(e),c.success("Product removed from cart",{id:"cart-page-toast"})},S=()=>{N(),c.success("Cart cleared",{id:"cart-page-toast"})},h=Number(x>0?x:j)||0,F=Number(h)+(Number(C)||0),T=r.length;return s.jsx("div",{className:"min-h-screen bg-gray py-8 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(u,{size:32,className:"text-red"}),"Your Cart"]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("span",{className:"text-lg text-gray-600 hidden sm:block",children:[r.length," ",r.length===1?"item":"items"]}),r.length>0&&s.jsxs("button",{onClick:S,className:"text-red hover:text-red-700 font-medium flex items-center gap-2 transition-colors border-b border-transparent hover:border-red",children:[s.jsx(l,{size:18}),s.jsx("span",{children:"Clear All"})]})]})]}),r.length===0?s.jsx(q,{}):s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[s.jsx("div",{className:"lg:col-span-8 space-y-8",children:s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray overflow-hidden",children:r.map(e=>s.jsxs("div",{className:"p-5 sm:p-6 flex flex-col sm:flex-row gap-5 border-b border-gray last:border-b-0",children:[s.jsx("div",{className:"w-full sm:w-32 h-32 shrink-0",children:s.jsx("img",{src:`/${e.product?.thumb_image||e.options?.image||e.image}`,alt:e.product?.name||e.name,className:"w-full h-full object-cover rounded-lg"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 text-lg",children:e.product?.name||e.name}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[e.options?.color_name&&s.jsxs("span",{children:["Color: ",e.options.color_name]}),e.options?.color_name&&e.options?.size_name&&s.jsx("span",{children:", "}),e.options?.size_name&&s.jsxs("span",{children:["Size: ",e.options.size_name]}),!(e.options?.color_name||e.options?.size_name)&&e.variant]}),parseFloat(e.options?.variant_total||0)>0&&s.jsxs("p",{className:"text-sm font-bold text-gray-700 mt-1",children:["variant extra : + ",n?.currency_icon||"DKK.",parseFloat(e.options.variant_total).toFixed(2)]}),s.jsxs("p",{className:"text-lg font-semibold text-red mt-2",children:[n?.currency_icon||"€",parseFloat(e.price&&e.price>0?e.price:e.product?.effective_price||e.product?.price||0).toFixed(2)]})]}),s.jsx("button",{onClick:()=>p(e.id),className:"sm:hidden text-red-600 hover:text-red-800 self-start",children:s.jsx(l,{size:20})})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-between sm:justify-start gap-6",children:[s.jsxs("div",{className:"flex items-center border border-gray rounded-md overflow-hidden",children:[s.jsx("button",{onClick:()=>k(e.id,e.quantity),className:"px-3 py-2 bg-gray-100 hover:bg-gray-200 transition",children:s.jsx(P,{size:16})}),s.jsx("span",{className:"px-4 py-2 font-medium min-w-12 text-center",children:e.quantity}),s.jsx("button",{onClick:()=>z(e.id,e.quantity,e.product?.qty||100),className:"px-3 py-2 bg-gray-100 hover:bg-gray-200 transition",children:s.jsx(E,{size:16})})]}),s.jsxs("button",{onClick:()=>p(e.id),className:"hidden sm:flex items-center gap-1.5 text-gray-500 hover:text-red transition",children:[s.jsx(l,{size:18}),s.jsx("span",{className:"text-sm",children:"Remove"})]})]})]})]},e.id))})}),s.jsx("div",{className:"lg:col-span-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray p-6 sticky top-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Order Summary"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between text-gray-600",children:[s.jsxs("span",{children:["Subtotal (",T," items)"]}),s.jsxs("span",{children:[n?.currency_icon||"DKK.",h.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-gray-600",children:[s.jsx("span",{children:"Shipping"}),s.jsx("span",{children:"Calculated at checkout"})]}),s.jsxs("div",{className:"border-t border-gray pt-4 mt-2",children:[s.jsxs("div",{className:"flex justify-between text-lg font-bold text-gray-900",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:[n?.currency_icon||"DKK.",F.toFixed(2)]})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Including VAT"})]})]}),s.jsx("div",{className:"mt-6",children:s.jsx(g,{href:route("checkout"),className:"block w-full text-center bg-red text-white py-4 rounded-lg font-medium hover:bg-red-800 transition duration-200 shadow-md",children:"Proceed to Checkout"})}),s.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:"Secure checkout • Free returns within 30 days"})]})})]})]})})},q=()=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray p-12 text-center",children:[s.jsx(u,{size:64,className:"mx-auto text-gray mb-6"}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-3",children:"Your cart is empty"}),s.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Looks like you haven't added anything yet. Let's change that!"}),s.jsx(g,{href:route("all.products"),className:"inline-block bg-red text-white px-8 py-4 rounded-lg font-medium hover:bg-red-800 transition",children:"Start Shopping"})]});export{J as default};
