import{u as I,r as n,j as e,L as R,b as A}from"./vendor-react-CbqZeeub.js";import{B as H}from"./Breadcrumb-DtFmv9ws.js";import{P as V}from"./ProductCard-DGNc5g26.js";import{G as L}from"./vendor-pUXXxmew.js";import"./vendor-swiper-Ny51Tdo0.js";import"./app-oNa4-Uj0.js";/* empty css            */import"./Skeleton-DWxpNhIk.js";const X=({products:i,filters:r,categories:g=[],brands:u=[],colors:p=[],sizes:b=[]})=>{const{settings:_}=I().props,[j,w]=n.useState({price_min:r.min_price||0,price_max:r.max_price||2e3,colors:r.color_ids||[],sizes:r.size_ids||[],categories:r.category_ids||[],brands:r.brand_ids||[],sort:r.sort_by||"latest"}),[F,y]=n.useState(!1),[k,C]=n.useState(0),[P,c]=n.useState(!1),m=i.data?.length||0;n.useEffect(()=>{if(C(0),c(!1),m===0){c(!0);return}const s=setTimeout(()=>{c(!0)},2e3);return()=>clearTimeout(s)},[i.data]),n.useEffect(()=>{k>=m&&m>0&&c(!0)},[k,m]);const M=()=>{C(s=>s+1)},a=(s,d)=>{const l=r[s==="categories"?"category_ids":s==="brands"?"brand_ids":s==="colors"?"color_ids":s==="sizes"?"size_ids":s];return l?Array.isArray(l)?l.map(String).includes(String(d)):String(l)===String(d):!1};n.useEffect(()=>{w(s=>({...s,price_min:r.min_price||0,price_max:r.max_price||2e3,colors:Array.isArray(r.color_ids)?r.color_ids:r.color_ids?[r.color_ids]:[],sizes:Array.isArray(r.size_ids)?r.size_ids:r.size_ids?[r.size_ids]:[],categories:Array.isArray(r.category_ids)?r.category_ids:r.category_ids?[r.category_ids]:[],brands:Array.isArray(r.brand_ids)?r.brand_ids:r.brand_ids?[r.brand_ids]:[],sort:r.sort_by||"latest"}))},[r]);const N=s=>{A.get(L("all.products"),s,{preserveScroll:!0,preserveState:!0,replace:!0})},t=(s,d)=>{const o=s==="categories"?"category_ids":s==="brands"?"brand_ids":s==="colors"?"color_ids":s==="sizes"?"size_ids":s,l=r[o]||[],f=Array.isArray(l)?l.map(String):[String(l)],v=String(d);let h;f.includes(v)?h=f.filter(T=>T!==v):h=[...f,v];const W={...r,[o]:h.length>0?h:void 0,page:1};N(W)},x=(s,d)=>{t(s,d)},z=()=>{A.get(L("all.products"),{},{preserveScroll:!0,replace:!0})},B=s=>{N({...r,sort_by:s,page:1})},$=s=>{const d=s.target.value;w(o=>({...o,price_max:d}))},S=()=>{N({...r,max_price:j.price_max,page:1})},E=i.data||[];return e.jsx("div",{className:"min-h-screen",children:e.jsxs("div",{className:"container px-4 sm:px-6 lg:px-8 py-6 md:py-10",children:[e.jsx(H,{customItems:[{name:"All Products"}]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"All Products"}),e.jsxs("span",{className:"text-gray-600",children:["(",i.total||0," items)"]})]}),e.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[e.jsxs("select",{value:r.sort_by||"latest",onChange:s=>B(s.target.value),className:"border border-gray rounded-lg px-4 py-2 bg-white text-gray-700 text-sm md:text-base outline-0",children:[e.jsx("option",{value:"latest",children:"Newest First"}),e.jsx("option",{value:"lowtohigh",children:"Price: Low → High"}),e.jsx("option",{value:"hightolow",children:"Price: High → Low"}),e.jsx("option",{value:"recommended",children:"Most Popular"})]}),e.jsx("button",{onClick:()=>y(!0),className:"md:hidden bg-white border border-gray px-5 py-2 rounded-lg font-medium",children:"Filters"})]})]}),Object.keys(r).length>0&&!(Object.keys(r).length===1&&r.page)&&e.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[g.filter(s=>a("categories",s.id)).map(s=>e.jsxs("div",{className:"bg-red-50 text-red px-4 py-1.5 rounded-full text-sm flex items-center gap-2",children:[s.name,e.jsx("button",{onClick:()=>x("categories",s.id),className:"font-bold text-lg leading-none",children:"×"})]},s.id)),u.filter(s=>a("brands",s.id)).map(s=>e.jsxs("div",{className:"bg-red-50 text-red px-4 py-1.5 rounded-full text-sm flex items-center gap-2",children:[s.name,e.jsx("button",{onClick:()=>x("brands",s.id),className:"font-bold text-lg leading-none",children:"×"})]},s.id)),p.filter(s=>a("colors",s.id)).map(s=>e.jsxs("div",{className:"bg-red-50 text-red px-4 py-1.5 rounded-full text-sm flex items-center gap-2",children:[s.color_name,e.jsx("button",{onClick:()=>x("colors",s.id),className:"font-bold text-lg leading-none",children:"×"})]},s.id)),b.filter(s=>a("sizes",s.id)).map(s=>e.jsxs("div",{className:"bg-red-50 text-red px-4 py-1.5 rounded-full text-sm flex items-center gap-2",children:["Size ",s.size_name,e.jsx("button",{onClick:()=>x("sizes",s.id),className:"font-bold text-lg leading-none",children:"×"})]},s.id)),e.jsx("button",{onClick:z,className:"text-gray-600 hover:text-red text-sm underline ml-2",children:"Clear all"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsx("aside",{className:"hidden lg:block lg:col-span-3",children:e.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray sticky top-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-6",children:"Filters"}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Price Range"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"range",min:"0",max:"2000",value:j.price_max,onChange:$,onMouseUp:S,onTouchEnd:S,className:"w-full accent-red"}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsxs("span",{children:[_?.currency_icon||"€","0"]}),e.jsxs("span",{children:[_?.currency_icon||"€",j.price_max,"+"]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Categories"}),e.jsx("div",{className:"space-y-2",children:g.map(s=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:a("categories",s.id),onChange:()=>t("categories",s.id),className:"h-4 w-4 text-red border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700",children:s.name})]},s.id))})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Brands"}),e.jsx("div",{className:"space-y-2",children:u.map(s=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:a("brands",s.id),onChange:()=>t("brands",s.id),className:"h-4 w-4 text-red border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700",children:s.name})]},s.id))})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Colors"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:p.map(s=>e.jsx("button",{onClick:()=>t("colors",s.id),className:`w-10 h-10 rounded-full border-2 transition-all ${a("colors",s.id)?"border-red scale-110 shadow-md":"border-gray-300 hover:border-gray-400"}`,style:{backgroundColor:s.color_code?.startsWith("#")?s.color_code:`#${s.color_code}`},title:s.color_name},s.id))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-4",children:"Sizes"}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:b.map(s=>e.jsx("button",{onClick:()=>t("sizes",s.id),className:`border rounded-md py-2 text-sm font-medium transition-all ${a("sizes",s.id)?"border-red bg-red-50 text-red":"border-gray hover:border-red"}`,children:s.size_name},s.id))})]})]})}),e.jsxs("main",{className:"lg:col-span-9",children:[e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-5 md:gap-6",children:E.map(s=>e.jsx(V,{product:s,onImageLoad:M,forceLoading:!P},s.id))}),i.links&&i.links.length>3&&e.jsx("div",{className:"mt-12 flex flex-wrap justify-center items-center gap-2",children:i.links.map((s,d)=>e.jsx(R,{href:s.url||"#",dangerouslySetInnerHTML:{__html:s.label},className:`
                        px-4 py-2 rounded-lg border transition duration-200 text-sm font-medium
                        ${s.active?"bg-red text-white border-red":"bg-white text-gray-700 border-gray hover:border-red"}
                        ${s.url?"cursor-pointer":"opacity-50 cursor-not-allowed"}
                      `},d))})]})]}),F&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end md:hidden",children:e.jsxs("div",{className:"bg-white w-full rounded-t-2xl max-h-[85vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-5 border-b border-gray flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Filters"}),e.jsx("button",{onClick:()=>y(!1),className:"text-2xl font-bold",children:"×"})]}),e.jsxs("div",{className:"p-5 space-y-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-4",children:"Categories"}),e.jsx("div",{className:"space-y-3",children:g.map(s=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:a("categories",s.id),onChange:()=>t("categories",s.id),className:"h-5 w-5 text-red border-gray-300 rounded"}),e.jsx("span",{children:s.name})]},s.id))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-4",children:"Brands"}),e.jsx("div",{className:"space-y-3",children:u.map(s=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:a("brands",s.id),onChange:()=>t("brands",s.id),className:"h-5 w-5 text-red border-gray-300 rounded"}),e.jsx("span",{children:s.name})]},s.id))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-4",children:"Colors"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:p.map(s=>e.jsx("button",{onClick:()=>t("colors",s.id),className:`w-12 h-12 rounded-full border-2 transition-all ${a("colors",s.id)?"border-red scale-110 shadow-md":"border-gray-300 hover:border-gray-400"}`,style:{backgroundColor:s.color_code?.startsWith("#")?s.color_code:`#${s.color_code}`}},s.id))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-4",children:"Sizes"}),e.jsx("div",{className:"grid grid-cols-5 gap-3",children:b.map(s=>e.jsx("button",{onClick:()=>t("sizes",s.id),className:`border rounded-md py-3 text-base font-medium transition-all ${a("sizes",s.id)?"border-red bg-red-50 text-red":"border-gray hover:border-red"}`,children:s.size_name},s.id))})]})]}),e.jsxs("div",{className:"p-5 border-t border-gray flex gap-4",children:[e.jsx("button",{onClick:z,className:"flex-1 border border-gray-400 py-3 rounded-lg font-medium",children:"Clear"}),e.jsx("button",{onClick:()=>y(!1),className:"flex-1 bg-red text-white py-3 rounded-lg font-medium",children:"Apply Filters"})]})]})}),e.jsxs("div",{className:"mt-16 grid grid-cols-2 md:grid-cols-4 gap-6 py-10 border-t border-gray-200",children:[e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-red-50 text-red flex items-center justify-center rounded-full mb-4",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),e.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:"Fast Shipping"}),e.jsx("p",{className:"text-sm text-gray-500",children:"World-wide delivery"})]}),e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-red-50 text-red flex items-center justify-center rounded-full mb-4",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),e.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:"Secure Payment"}),e.jsx("p",{className:"text-sm text-gray-500",children:"100% Secure Transaction"})]}),e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-red-50 text-red flex items-center justify-center rounded-full mb-4",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})})}),e.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:"Easy Returns"}),e.jsx("p",{className:"text-sm text-gray-500",children:"30 Days Money Back"})]}),e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-red-50 text-red flex items-center justify-center rounded-full mb-4",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"})})}),e.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:"24/7 Support"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Dedicated Customer Help"})]})]})]})})};export{X as default};
