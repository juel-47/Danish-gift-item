import{r as u,u as T,R as A,O as h,j as e,at as F,a as b,au as $,al as W,ah as n,av as I,am as c,L as M,C as V}from"./vendor-react-CbqZeeub.js";import"./vendor-pUXXxmew.js";import"./vendor-swiper-Ny51Tdo0.js";const Q=({totalOrder:_,ordersData:l,userData:a})=>{const[t,m]=u.useState("overview"),{auth:Y,flash:f}=T().props,[B,v]=u.useState(!1);A.useEffect(()=>{if(f?.success){v(!0);const s=setTimeout(()=>v(!1),3e3);return()=>clearTimeout(s)}},[f]);const{post:P,processing:y}=h(),C=s=>{s.preventDefault(),P(route("customer.logout"))},{data:d,setData:o,post:k,processing:j,errors:r,reset:D}=h({_method:"PUT",name:a.name||"",username:a.username||"",email:a.email||"",phone:a.phone||"",address:a.address||"",image:null}),[S,z]=u.useState(a.image),U=s=>{const p=s.target.files[0];p&&(o("image",p),z(URL.createObjectURL(p)))},O=s=>{s.preventDefault(),k(route("update.profile"),{onSuccess:()=>{}})},{data:x,setData:g,put:L,processing:N,errors:i,reset:E}=h({current_password:"",new_password:"",new_password_confirmation:""}),R=s=>{s.preventDefault(),L(route("update.password"),{onSuccess:()=>E()})},w=[{id:"overview",label:"Overview",icon:W},{id:"orders",label:"Orders",icon:n},{id:"settings",label:"Edit Profile",icon:I},{id:"security",label:"Security",icon:c}];return e.jsx("div",{className:"min-h-screen bg-gray py-8 px-4 sm:px-6 lg:px-8 relative",children:e.jsxs("div",{className:"mx-auto max-w-5xl",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-[var(--color-gray)] overflow-hidden mb-8",children:e.jsxs("div",{className:"p-6 sm:p-8 flex flex-col sm:flex-row items-center sm:items-start gap-6",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:S||"https://media.istockphoto.com/id/2156807988/vector/simple-gray-avatar-icons-representing-male-and-female-profiles-vector-minimalist-design-with.jpg?s=612x612&w=0&k=20&c=xi7g5_9VBSWgntTZ-OQNS74d0oOvUnDGxjxUL_LdJUM=",alt:a.name,className:"w-24 h-24 sm:w-32 sm:h-32 rounded-full object-cover border-4 border-white shadow-md bg-gray-100"}),t==="settings"&&e.jsxs("label",{htmlFor:"profile-image-upload",className:"absolute bottom-0 right-0 bg-[var(--color-red)] text-white p-2 rounded-full shadow cursor-pointer hover:bg-red-700 transition",children:[e.jsx(F,{size:16}),e.jsx("input",{id:"profile-image-upload",type:"file",accept:"image/*",className:"hidden",onChange:U})]})]}),e.jsxs("div",{className:"text-center sm:text-left flex-1",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:a.name}),e.jsx("p",{className:"text-gray-600 mt-1",children:a.email}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:a.phone})]}),e.jsx("div",{className:"sm:ml-auto mt-4 sm:mt-0",children:e.jsxs("button",{onClick:C,disabled:y,className:"flex items-center gap-2 px-5 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition shadow-sm disabled:opacity-50 font-medium",children:[y?e.jsx(b,{className:"animate-spin",size:18}):e.jsx($,{size:18}),"Sign Out"]})})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-[var(--color-gray)] overflow-hidden flex flex-col lg:flex-row min-h-[600px]",children:[e.jsx("div",{className:"hidden lg:block w-72 border-r border-[var(--color-gray)] bg-gray-50/50 p-4",children:e.jsx("nav",{className:"space-y-1",children:w.map(s=>e.jsxs("button",{onClick:()=>m(s.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left transition font-medium ${t===s.id?"bg-white text-[var(--color-red)] shadow-sm border border-gray-100":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[e.jsx(s.icon,{size:18}),s.label]},s.id))})}),e.jsx("div",{className:"lg:hidden border-b border-[var(--color-gray)] overflow-x-auto",children:e.jsx("div",{className:"flex p-2 gap-2 min-w-max",children:w.map(s=>e.jsxs("button",{onClick:()=>m(s.id),className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition ${t===s.id?"bg-[var(--color-red)] text-white shadow":"bg-gray-100 text-gray-600"}`,children:[e.jsx(s.icon,{size:16}),s.label]},s.id))})}),e.jsxs("div",{className:"flex-1 p-6 sm:p-8 lg:p-10",children:[t==="overview"&&e.jsxs("div",{className:"space-y-8 animate-fade-in",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Account Overview"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-[var(--color-red)] to-red-600 p-6 rounded-2xl text-white shadow-lg shadow-red-200",children:[e.jsx("div",{className:"text-red-100 font-medium mb-1",children:"Total Orders"}),e.jsx("div",{className:"text-4xl font-bold",children:_})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl border border-dashed border-gray-300 flex flex-col justify-center items-center text-center",children:[e.jsx("span",{className:"text-gray-400 mb-2",children:"My Wishlist"}),e.jsx("span",{className:"text-2xl font-semibold text-gray-700",children:"0"})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Recent Orders"}),e.jsx("button",{onClick:()=>m("orders"),className:"text-[var(--color-red)] text-sm font-medium hover:underline",children:"View All"})]}),e.jsxs("div",{className:"space-y-4",children:[l?.slice(0,3).map(s=>e.jsxs("div",{className:"flex justify-between items-center p-4 bg-white border border-gray-100 rounded-xl shadow-sm hover:shadow-md transition",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center text-[var(--color-red)]",children:e.jsx(n,{size:20})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold text-gray-900",children:["#",s.invoice_id]}),e.jsx("p",{className:"text-sm text-gray-500",children:s.payment_method})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-bold text-gray-900",children:[s.currency_icon,s.amount]}),e.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full ${s.order_status?.slug==="delivered"?"bg-green-100 text-green-700":s.order_status?.slug==="cancelled"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:s.order_status?.name})]})]},s.id)),(!l||l.length===0)&&e.jsxs("div",{className:"text-center py-10 bg-gray-50 rounded-xl border border-dashed border-gray-200",children:[e.jsx(n,{className:"mx-auto text-gray-300 mb-2",size:32}),e.jsx("p",{className:"text-gray-500",children:"No recent orders found."})]})]})]})]}),t==="orders"&&e.jsxs("div",{className:"animate-fade-in",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Order History"}),e.jsxs("div",{className:"space-y-5",children:[l?.map(s=>e.jsx("div",{className:"group bg-white border border-gray-200 rounded-xl overflow-hidden hover:border-[var(--color-red)] hover:shadow-md transition-all duration-200",children:e.jsxs("div",{className:"p-5 flex flex-col sm:flex-row justify-between items-start gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("span",{className:"font-bold text-lg text-gray-900",children:["#",s.invoice_id]}),e.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-semibold ${s.order_status?.slug==="delivered"?"bg-green-100 text-green-700":s.order_status?.slug==="cancelled"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:s.order_status?.name})]}),e.jsxs("div",{className:"text-sm text-gray-500 flex flex-wrap gap-x-6 gap-y-1",children:[e.jsxs("span",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Date:"})," ",new Date(s.created_at||Date.now()).toLocaleDateString()]}),e.jsxs("span",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Payment:"})," ",s.payment_method]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto justify-between sm:justify-end",children:[e.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[s.currency_icon,s.amount]}),e.jsxs(M,{href:route("user.order.details",s.id),className:"flex items-center gap-1 bg-gray-900 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-[var(--color-red)] transition",children:["Details",e.jsx(V,{size:16})]})]})]})},s.id)),(!l||l.length===0)&&e.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded-xl border border-dashed border-gray-300",children:[e.jsx(n,{className:"mx-auto text-gray-300 mb-4",size:48}),e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No orders yet"}),e.jsx("p",{className:"text-gray-500 max-w-sm mx-auto mt-1",children:"When you place orders, they will appear here for you to track and manage."})]})]})]}),t==="settings"&&e.jsxs("div",{className:"animate-fade-in max-w-2xl",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Edit Profile"}),e.jsxs("form",{onSubmit:O,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Full Name"}),e.jsx("input",{type:"text",value:d.name,onChange:s=>o("name",s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--color-red)] focus:border-[var(--color-red)] outline-none transition",placeholder:"Your Name"}),r.name&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Username"}),e.jsx("input",{type:"text",value:d.username,onChange:s=>o("username",s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--color-red)] focus:border-[var(--color-red)] outline-none transition",placeholder:"username"}),r.username&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.username})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Email Address"}),e.jsx("input",{type:"email",value:d.email,onChange:s=>o("email",s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--color-red)] focus:border-[var(--color-red)] outline-none transition",disabled:!0}),r.email&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Phone Number"}),e.jsx("input",{type:"text",value:d.phone,onChange:s=>o("phone",s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--color-red)] focus:border-[var(--color-red)] outline-none transition",placeholder:"+1 234 567 890"}),r.phone&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.phone})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Address"}),e.jsx("textarea",{value:d.address,onChange:s=>o("address",s.target.value),rows:"3",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--color-red)] focus:border-[var(--color-red)] outline-none transition resize-none",placeholder:"Your full address..."}),r.address&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.address})]}),e.jsx("div",{className:"pt-4",children:e.jsxs("button",{type:"submit",disabled:j,className:"bg-[var(--color-red)] text-white px-8 py-3 rounded-lg font-bold hover:bg-red-700 transition shadow-lg shadow-red-200 disabled:opacity-70 flex items-center gap-2",children:[j&&e.jsx(b,{className:"animate-spin",size:20}),"Save Changes"]})})]})]}),t==="security"&&e.jsxs("div",{className:"animate-fade-in max-w-xl",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Security Settings"}),e.jsx("p",{className:"text-gray-500 mb-8",children:"Update your password to keep your account secure."}),e.jsxs("form",{onSubmit:R,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(c,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"password",value:x.current_password,onChange:s=>g("current_password",s.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--color-red)] focus:border-[var(--color-red)] outline-none transition",placeholder:"Enter current password"})]}),i.current_password&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.current_password})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(c,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"password",value:x.new_password,onChange:s=>g("new_password",s.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--color-red)] focus:border-[var(--color-red)] outline-none transition",placeholder:"Enter new password (min. 8 chars)"})]}),i.new_password&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.new_password})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(c,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"password",value:x.new_password_confirmation,onChange:s=>g("new_password_confirmation",s.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--color-red)] focus:border-[var(--color-red)] outline-none transition",placeholder:"Confirm new password"})]})]}),e.jsx("div",{className:"pt-4",children:e.jsxs("button",{type:"submit",disabled:N,className:"bg-gray-900 text-white px-8 py-3 rounded-lg font-bold hover:bg-gray-800 transition shadow-lg disabled:opacity-70 flex items-center gap-2",children:[N&&e.jsx(b,{className:"animate-spin",size:20}),"Update Password"]})})]})]})]})]})]})})};export{Q as default};
