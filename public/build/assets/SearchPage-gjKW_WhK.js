import{u as V,r as i,j as e,L as F,d as W,X as H,b as P}from"./vendor-react-CbqZeeub.js";import{B as D}from"./Breadcrumb-DtFmv9ws.js";import{P as O}from"./ProductCard-DGNc5g26.js";import{G as L}from"./vendor-pUXXxmew.js";import"./vendor-swiper-Ny51Tdo0.js";import"./app-oNa4-Uj0.js";/* empty css            */import"./Skeleton-DWxpNhIk.js";const ee=({products:o,filters:s,categories:y=[],brands:n=[],colors:c=[],sizes:x=[],query:g=""})=>{const{settings:_}=V().props,[j,k]=i.useState({price_min:s.min_price||0,price_max:s.max_price||2e3,colors:s.color_ids||[],sizes:s.size_ids||[],categories:s.category_ids||[],brands:s.brand_ids||[],sort:s.sort_by||"latest"}),[$,f]=i.useState(!1),[C,S]=i.useState(0),[B,h]=i.useState(!1),p=o.data?.length||0;i.useEffect(()=>{if(S(0),h(!1),p===0){h(!0);return}const r=setTimeout(()=>{h(!0)},2e3);return()=>clearTimeout(r)},[o.data]),i.useEffect(()=>{C>=p&&p>0&&h(!0)},[C,p]);const R=()=>{S(r=>r+1)},a=(r,d)=>{const l=s[r==="categories"?"category_ids":r==="brands"?"brand_ids":r==="colors"?"color_ids":r==="sizes"?"size_ids":r];return l?Array.isArray(l)?l.map(String).includes(String(d)):String(l)===String(d):!1};i.useEffect(()=>{k(r=>({...r,price_min:s.min_price||0,price_max:s.max_price||2e3,colors:Array.isArray(s.color_ids)?s.color_ids:s.color_ids?[s.color_ids]:[],sizes:Array.isArray(s.size_ids)?s.size_ids:s.size_ids?[s.size_ids]:[],categories:Array.isArray(s.category_ids)?s.category_ids:s.category_ids?[s.category_ids]:[],brands:Array.isArray(s.brand_ids)?s.brand_ids:s.brand_ids?[s.brand_ids]:[],sort:s.sort_by||"latest"}))},[s]);const N=r=>{P.get(L("product.search"),{...r,q:g},{preserveScroll:!0,preserveState:!0,replace:!0})},t=(r,d)=>{const m=r==="categories"?"category_ids":r==="brands"?"brand_ids":r==="colors"?"color_ids":r==="sizes"?"size_ids":r,l=s[m]||[],v=Array.isArray(l)?l.map(String):[String(l)],w=String(d);let b;v.includes(w)?b=v.filter(T=>T!==w):b=[...v,w];const K={...s,[m]:b.length>0?b:void 0,page:1};N(K)},u=(r,d)=>{t(r,d)},z=()=>{P.get(L("product.search"),{q:g},{preserveScroll:!0,replace:!0})},E=r=>{N({...s,sort_by:r,page:1})},M=r=>{const d=r.target.value;k(m=>({...m,price_max:d}))},I=()=>{N({...s,max_price:j.price_max,page:1})},A=o.data||[];return e.jsxs("div",{className:"min-h-screen font-poppins bg-gray-50",children:[e.jsxs("div",{className:"container px-4 sm:px-6 lg:px-8 py-6 md:py-10 mx-auto",children:[e.jsx(D,{}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8 bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Search Results"}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[e.jsxs("span",{children:["Results for: ",e.jsxs("span",{className:"font-bold text-red-600",children:['"',g,'"']})]}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsxs("span",{children:["(",o.total||0," items)"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[e.jsxs("select",{value:s.sort_by||"latest",onChange:r=>E(r.target.value),className:"border border-gray-200 rounded-xl px-4 py-2.5 bg-white text-gray-700 text-sm md:text-base outline-none focus:ring-2 focus:ring-red-600/20",children:[e.jsx("option",{value:"latest",children:"Newest First"}),e.jsx("option",{value:"lowtohigh",children:"Price: Low → High"}),e.jsx("option",{value:"hightolow",children:"Price: High → Low"}),e.jsx("option",{value:"recommended",children:"Most Popular"})]}),e.jsx("button",{onClick:()=>f(!0),className:"lg:hidden flex items-center gap-2 bg-white border border-gray-200 px-5 py-2.5 rounded-xl font-medium",children:"Filters"})]})]}),Object.keys(s).length>1&&!(Object.keys(s).length===2&&s.page&&s.q)&&e.jsxs("div",{className:"flex flex-wrap gap-2 mb-8",children:[y.filter(r=>a("categories",r.id)).map(r=>e.jsxs("div",{className:"bg-red-50 text-red-600 px-4 py-1.5 rounded-full text-sm flex items-center gap-2 border border-red-100",children:[r.name,e.jsx("button",{onClick:()=>u("categories",r.id),className:"font-bold text-lg leading-none",children:"×"})]},r.id)),n.filter(r=>a("brands",r.id)).map(r=>e.jsxs("div",{className:"bg-red-50 text-red-600 px-4 py-1.5 rounded-full text-sm flex items-center gap-2 border border-red-100",children:[r.name,e.jsx("button",{onClick:()=>u("brands",r.id),className:"font-bold text-lg leading-none",children:"×"})]},r.id)),c.filter(r=>a("colors",r.id)).map(r=>e.jsxs("div",{className:"bg-red-50 text-red-600 px-4 py-1.5 rounded-full text-sm flex items-center gap-2 border border-red-100",children:[e.jsx("span",{className:"w-3 h-3 rounded-full border border-gray-200",style:{backgroundColor:r.color_code?.startsWith("#")?r.color_code:`#${r.color_code}`}}),r.color_name,e.jsx("button",{onClick:()=>u("colors",r.id),className:"font-bold text-lg leading-none",children:"×"})]},r.id)),x.filter(r=>a("sizes",r.id)).map(r=>e.jsxs("div",{className:"bg-red-50 text-red-600 px-4 py-1.5 rounded-full text-sm flex items-center gap-2 border border-red-100",children:["Size: ",r.size_name,e.jsx("button",{onClick:()=>u("sizes",r.id),className:"font-bold text-lg leading-none",children:"×"})]},r.id)),e.jsx("button",{onClick:z,className:"text-gray-500 hover:text-red-600 text-sm font-medium ml-2",children:"Clear all"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsx("aside",{className:"hidden lg:block lg:col-span-3",children:e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 sticky top-24",children:[e.jsxs("h3",{className:"text-lg font-bold mb-6 text-gray-900 flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-6 bg-red-600 rounded-full"}),"Filters"]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"font-bold text-sm text-gray-800 mb-4 uppercase tracking-wider",children:"Price Range"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"range",min:"0",max:"2000",value:j.price_max,onChange:M,onMouseUp:I,className:"w-full accent-red-600"}),e.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-500",children:[e.jsxs("span",{children:[_?.currency_icon||"DKK"," 0"]}),e.jsxs("span",{children:[_?.currency_icon||"DKK"," ",j.price_max,"+"]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"font-bold text-sm text-gray-800 mb-4 uppercase tracking-wider",children:"Categories"}),e.jsx("div",{className:"space-y-2.5 max-h-48 overflow-y-auto pr-2 custom-scrollbar",children:y.map(r=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[e.jsx("input",{type:"checkbox",checked:a("categories",r.id),onChange:()=>t("categories",r.id),className:"h-4 w-4 text-red-600 border-gray-300 rounded focus:ring-red-600"}),e.jsx("span",{className:"text-gray-600 group-hover:text-red-600 transition-colors",children:r.name})]},r.id))})]}),n.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"font-bold text-sm text-gray-800 mb-4 uppercase tracking-wider",children:"Brands"}),e.jsx("div",{className:"space-y-2.5 max-h-48 overflow-y-auto pr-2 custom-scrollbar",children:n.map(r=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[e.jsx("input",{type:"checkbox",checked:a("brands",r.id),onChange:()=>t("brands",r.id),className:"h-4 w-4 text-red-600 border-gray-300 rounded focus:ring-red-600"}),e.jsx("span",{className:"text-gray-600 group-hover:text-red-600 transition-colors",children:r.name})]},r.id))})]}),c.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"font-bold text-sm text-gray-800 mb-4 uppercase tracking-wider",children:"Colors"}),e.jsx("div",{className:"flex flex-wrap gap-2.5",children:c.map(r=>e.jsx("button",{onClick:()=>t("colors",r.id),className:`w-8 h-8 rounded-full border-2 transition-all p-0.5 ${a("colors",r.id)?"border-red-600 ring-2 ring-red-600/20 scale-110":"border-gray-200 hover:border-gray-300"}`,title:r.color_name,children:e.jsx("div",{className:"w-full h-full rounded-full shadow-inner",style:{backgroundColor:r.color_code?.startsWith("#")?r.color_code:`#${r.color_code}`}})},r.id))})]}),x.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-sm text-gray-800 mb-4 uppercase tracking-wider",children:"Sizes"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:x.map(r=>e.jsx("button",{onClick:()=>t("sizes",r.id),className:`border rounded-lg py-2 text-xs font-bold transition-all ${a("sizes",r.id)?"border-red-600 bg-red-50 text-red-600 shadow-sm":"border-gray-200 text-gray-600 hover:border-red-600 hover:text-red-600"}`,children:r.size_name},r.id))})]})]})}),e.jsx("main",{className:"lg:col-span-9",children:A.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-6",children:A.map(r=>e.jsx(O,{product:r,onImageLoad:R,forceLoading:!B},r.id))}),o.links&&o.links.length>3&&e.jsx("div",{className:"mt-12 flex flex-wrap justify-center items-center gap-2",children:o.links.map((r,d)=>e.jsx(F,{href:r.url||"#",dangerouslySetInnerHTML:{__html:r.label},className:`px-4 py-2 rounded-xl transition-all duration-200 text-sm font-semibold border ${r.active?"bg-red-600 text-white border-red-600 shadow-lg shadow-red-600/20":"bg-white text-gray-600 border-gray-200 hover:border-red-600 hover:text-red-600"} ${r.url?"cursor-pointer":"opacity-50 cursor-not-allowed"}`},d))})]}):e.jsxs("div",{className:"bg-white rounded-2xl p-20 text-center border border-gray-100 shadow-sm",children:[e.jsx("div",{className:"bg-gray-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(W,{size:32,className:"text-gray-300"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No results found"}),e.jsxs("p",{className:"text-gray-500 max-w-xs mx-auto mb-8",children:["We couldn't find any products matching your search for ",e.jsxs("span",{className:"font-bold",children:['"',g,'"']}),"."]}),e.jsx(F,{href:"/all-products",className:"inline-flex items-center justify-center px-8 py-3 bg-red-600 text-white font-bold rounded-xl hover:bg-red-700 transition-colors shadow-lg shadow-red-600/25",children:"Browse All Products"})]})})]})]}),$&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-100 flex items-end md:hidden animate-in fade-in duration-300",children:e.jsxs("div",{className:"bg-white w-full rounded-t-3xl max-h-[85vh] overflow-hidden flex flex-col animate-in slide-in-from-bottom duration-300 shadow-2xl",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-6 bg-red-600 rounded-full"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Filters"})]}),e.jsx("button",{onClick:()=>f(!1),className:"w-10 h-10 rounded-full bg-gray-50 flex items-center justify-center text-gray-500 hover:bg-gray-100",children:e.jsx(H,{size:20})})]}),e.jsxs("div",{className:"p-6 flex-1 overflow-y-auto custom-scrollbar space-y-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-sm text-gray-800 mb-4 uppercase tracking-wider",children:"Categories"}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:y.map(r=>e.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border border-gray-100 hover:border-red-100 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:a("categories",r.id),onChange:()=>t("categories",r.id),className:"h-5 w-5 text-red-600 border-gray-300 rounded focus:ring-red-600"}),e.jsx("span",{className:"text-gray-700 font-medium",children:r.name})]},r.id))})]}),n.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-sm text-gray-800 mb-4 uppercase tracking-wider",children:"Brands"}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:n.map(r=>e.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border border-gray-100 hover:border-red-100 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:a("brands",r.id),onChange:()=>t("brands",r.id),className:"h-5 w-5 text-red-600 border-gray-300 rounded focus:ring-red-600"}),e.jsx("span",{className:"text-gray-700 font-medium",children:r.name})]},r.id))})]}),c.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-sm text-gray-800 mb-4 uppercase tracking-wider",children:"Colors"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:c.map(r=>e.jsx("button",{onClick:()=>t("colors",r.id),className:`w-12 h-12 rounded-full border-2 transition-all p-1 ${a("colors",r.id)?"border-red-600 ring-2 ring-red-600/20 shadow-lg":"border-gray-200"}`,children:e.jsx("div",{className:"w-full h-full rounded-full",style:{backgroundColor:r.color_code?.startsWith("#")?r.color_code:`#${r.color_code}`}})},r.id))})]}),x.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-sm text-gray-800 mb-4 uppercase tracking-wider",children:"Sizes"}),e.jsx("div",{className:"grid grid-cols-4 gap-3",children:x.map(r=>e.jsx("button",{onClick:()=>t("sizes",r.id),className:`border rounded-xl py-4 text-sm font-bold transition-all ${a("sizes",r.id)?"border-red-600 bg-red-50 text-red-600":"border-gray-200 text-gray-600"}`,children:r.size_name},r.id))})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex gap-4",children:[e.jsx("button",{onClick:z,className:"flex-1 bg-white border border-gray-200 py-4 rounded-2xl font-bold text-gray-700 hover:bg-gray-50 transition-colors",children:"Clear All"}),e.jsx("button",{onClick:()=>f(!1),className:"flex-1 bg-red-600 text-white py-4 rounded-2xl font-bold shadow-lg shadow-red-600/20 hover:bg-red-700 transition-colors",children:"Apply Filters"})]})]})})]})};export{ee as default};
